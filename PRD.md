# PRD: Legacy Letters - 부모님의 숨겨진 이야기를 발견하는 일일 질문 서비스

## 1. 프로덕트 개요

**부모님의 숨겨진 이야기를 발견하는 일일 질문 서비스**

- 매일 하나의 맞춤형 질문을 자녀가 부모에게 전송
- 부모는 텍스트/음성/사진으로 간단히 답변
- 답변을 분석해 "몰랐던 사실"을 하이라이트하고 패밀리북으로 아카이빙

## 2. 문제 정의

### 해결하려는 문제
- **대화의 표면성**: "밥 먹었어?" 수준에서 벗어나지 못하는 부모-자녀 대화
- **시간의 불가역성**: "나중에 물어봐야지"를 미루다 영영 못 물어보는 질문들
- **대화 비대칭**: 자녀는 깊은 대화를 원하지만 방법을 모르고, 부모(혹은 서로)는 부담스러워함

### 타겟 사용자
- **Primary**: 30-40대 독립한 자녀 (부모 연령 60-70대)
- **Secondary**: 해외 거주 교포, 처가/시가와 관계 개선을 원하는 사위/며느리

### 사용 상황
- 명절이나 부모님 생신 때 "뭘 여쭤봐야 할지" 막막할 때
- 부모님 건강 악화나 주변 부고 소식으로 "더 늦기 전에" 불안감을 느낄 때
- 결혼/출산 후 부모님도 "한 사람의 인생"이었음을 깨달을 때

### 기존 해결책의 한계
- **가족 단톡방**: 일방향 안부, 깊이 없는 대화
- **정기 전화**: 매번 비슷한 패턴의 5분 통화
- **효도 앱**: 기계적 안부 문자, 일방향적

## 3. 성공 지표

### Phase 1 MVP 목표
- **대화 깊이**: 답변 평균 길이 3배 이상 (vs 단톡방)
- **발견율**: "몰랐던 사실" 주 3개 이상 발견
- **지속성**: 30일 리텐션 50% 이상 (vs 효도앱 10%)
- **행동 전환**: 월 1회 이상 "만남/통화" 실제 발생

### 구체적 지표
- 첫 응답률 (24시간 내): ≥ 60%
- 7일 유지율: ≥ 40%
- 평균 답변 길이: ≥ 50자
- "새로운 발견" 생성: 주 2개 이상
- 사용자 만족도: ≥ 4.2/5

## 4. 3단계 구현 로드맵

### 📱 Phase 1: Quick Validation MVP (1주)

**목표**: "정말 답변하는가?" + 핵심 가치 검증

#### 입력
- **자녀**: Lovable 온보딩 폼 (이름, 부모 카톡ID, 관심사 3개)
- **부모**: 카톡으로 받은 웹 링크에서 텍스트 답변
- **초기 질문 DB**: Google Sheets에 미리 준비한 100개 질문

#### 처리
- 질문 선택: 관심사 기반 필터링 (단순 매칭)
- 답변 저장: Supabase 자동 저장
- 키워드 추출: 간단한 정규식으로 명사 추출

#### 출력
- **질문 발송**: 매일 오전 9시 카톡 메시지
- **답변 페이지**: 모바일 최적화, 큰 글씨, 3개 보기 제공
- **발견 카드**: HTML Canvas로 텍스트 카드 생성

#### 행동
- 카드 저장하기 (이미지 다운로드)
- 카톡으로 공유하기

### 🚀 Phase 2: Smart & Delightful (3주)

**목표**: AI 개인화 + 지속 가능한 습관 형성

#### 새로운 기능
- **음성 답변**: 웹 브라우저 녹음 (MediaRecorder API)
- **사진 첨부**: 드래그앤드롭 or 모바일 카메라
- **적응형 빈도**: 답변률에 따라 주 1-3회 자동 조절
- **AI 질문 생성**: OpenAI API로 개인화된 질문
- **대시보드**: 답변 캘린더, 스트릭, 발견 통계

### 💰 Phase 3: Monetization & Scale (4주)

**목표**: 수익화 + B2B 확장

#### 수익 모델
- **프리미엄 구독**: 무제한 질문, 고급 분석
- **패밀리북**: PDF/인쇄본 제작 서비스
- **B2B API**: 보험사/통신사 연동

## 5. Phase 1 MVP 상세 기능 명세

### 자녀 온보딩 플로우
**페이지**: `/onboarding`

**입력 정보**:
- 자녀 이름
- 부모님 별칭 (엄마/아빠)
- 부모님 카카오톡 ID 또는 전화번호
- 관심사 3개 (미리 정의된 목록에서 선택)
- 선호 질문 시간 (아침/오후/저녁)

### 질문 관리 시스템
**질문 카테고리**:
- **레벨 1 (가벼운)**: 사실 확인 질문
  - "어머니가 가장 좋아하시는 음식은 무엇인가요?"
  - "아버지의 첫 직장은 어디였나요?"
- **레벨 2 (경험)**: 체험 관련 질문
  - "부모님이 처음 만났을 때 첫인상은 어땠나요?"
  - "살면서 가장 행복했던 순간은 언제였나요?"
- **레벨 3 (깊은)**: 성찰 질문
  - "인생에서 다시 선택할 수 있다면 바꾸고 싶은 것은?"
  - "자녀들에게 꼭 전하고 싶은 인생 조언은?"

### 부모님 답변 인터페이스
**페이지**: `/answer/[session_id]`

**요구사항**:
- 모바일 우선 디자인
- 큰 글씨 (최소 18px)
- 높은 대비 색상
- 단일 질문 표시
- 3개 예시 답변 + 자유 텍스트 옵션
- 음성 녹음 버튼 (Phase 2 준비)

### 발견 카드 생성
**프로세스**:
1. 답변에서 키워드 추출 (명사 정규식)
2. 예상 키워드와 비교
3. Canvas API로 시각적 카드 생성

**카드 요소**:
- 날짜
- 질문 텍스트
- 답변 하이라이트 (키워드 강조)
- "오늘의 발견" 헤더
- 장식 요소 (계절별)

### 일일 자동화 플로우
**Make.com 웹훅 사용**:
1. 매일 크론잡 (오전 9시 KST)
2. Supabase에서 오늘의 수신자 조회
3. 관심사 + 랜덤화 기반 질문 선택
4. 카카오톡 메시지 + 답변 링크 전송
5. 배송 상태 추적

## 6. 기술 아키텍처

### 기술 스택
- **Frontend**: React + Vite + Tailwind CSS (Lovable)
- **Backend**: Supabase (Lovable 제공)
- **메시징**: 카카오톡 채널 API via Make.com
- **AI**: OpenAI API (키워드 추출)
- **Storage**: Supabase Storage (미디어 파일)

### 데이터 구조
```sql
-- 가족 정보
families {
  id: uuid,
  child_name: string,
  parent_nickname: string,
  parent_contact: string,
  interests: string[],
  preferred_time: string,
  created_at: timestamp
}

-- 질문 데이터
questions {
  id: uuid,
  content: string,
  level: number,
  category: string,
  tags: string[]
}

-- 답변 데이터
answers {
  id: uuid,
  family_id: uuid,
  question_id: uuid,
  answer_text: string,
  keywords: string[],
  discovery: string,
  created_at: timestamp
}
```

## 7. 가치 제안

### 제로 프릭션
- 부모님은 앱 설치 없이 카톡 링크로 바로 답변
- 자녀는 웹 인터페이스로 간편 설정

### 질문 큐레이션
- AI가 이전 답변 분석해 점진적으로 깊어지는 맞춤 질문
- 100개 사전 제작 질문으로 초기 콘텐츠 확보

### 발견의 재미
- "아빠가 젊었을 때 밴드 했다고?" 같은 놀라운 사실 하이라이트
- 시각적 발견 카드로 공유 가능한 추억 생성

### 보상 시스템
- 연속 답변 스트릭
- 월간 패밀리북 자동 생성 (Phase 3)

## 8. 리스크 및 완화 방안

### 지속성 위험
- **리스크**: 초기 흥미 이후 귀찮아질 가능성
- **완화**: 적응형 빈도 조절, 발견의 기쁨으로 동기부여

### 세대 차이
- **리스크**: 60-70대 디지털 리터러시 편차
- **완화**: 극도로 단순한 UI, 카톡 기반 접근

### 콘텐츠 고갈
- **리스크**: 질문이 반복되거나 어색해질 위험
- **완화**: AI 기반 개인화 질문 생성 (Phase 2)

### 감정적 부담
- **리스크**: 매일 답변해야 한다는 압박감
- **완화**: "오늘은 쉴래요" 옵션, 유연한 빈도 조절